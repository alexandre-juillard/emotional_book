server:
  port: ${API_PORT:8080}

spring:
  application:
    name: emotionalbook-api
  datasource:
    url: jdbc:mysql://${DB_HOST:127.0.0.1}:${DB_PORT:3306}/${DB_NAME:emotionalbook}?useUnicode=true&characterEncoding=utf8&serverTimezone=UTC&allowPublicKeyRetrieval=true&useSSL=false
    username: ${DB_USER:emo}
    password: ${DB_PASSWORD:emo_pwd}
    driver-class-name: com.mysql.cj.jdbc.Driver
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    validate-on-migrate: true

management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: when_authorized

security:
  jwt:
    secret: ${JWT_SECRET:emotionalbook_dev_secret_please_override_32chars_minimum_123456}
    issuer: ${JWT_ISSUER:emotionalbook}
    expiration-minutes: ${JWT_EXP_MINUTES:60}
  cors:
    allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:8080}
